<template>
	<div class="yyy">
		<template v-if="scope.row.edit">
			<el-button type="success" @click="confirmEdit(scope.row,scope.$index)" size="small" icon="el-icon-circle-check-outline">确定</el-button>
			<el-button type="success" @click="cacelEdit(scope.row)" size="small" icon="el-icon-circle-check-outline">取消</el-button>
		</template>
		<template v-else>
			<el-button type="primary" @click='edit(scope.row)' size="small" icon="el-icon-edit">编辑</el-button>
			<el-button type="primary" @click='deleteRow(scope.row,scope.$index)' size="small" icon="el-icon-edit">删除</el-button>
		</template>
	</div>
</template>
<script type='text/ecmascript-6'>
export default {
  props: {
    scope: {
      type: Object
    },
    tableData: {
      type: Array
    }
  },
  mounted() {
    // this.init();
  },
  computed: {},
  methods: {
    //编辑
    edit(row) {
      row.edit = true;
    },
    //取消编辑
    cacelEdit(row) {
      row.edit = false;
    },
    //确认编辑
    confirmEdit(row, index) {
      this.$emit("verify", row, index);
    },
    //删除行
    deleteRow(row, index) {
      this.$confirm("确认删除?", "提示", {
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        type: "warning",
        center: true
      }).then(
        () => {
          this.tableData.splice(index, 1);
        },
        () => {}
      );
    }
  }
};
</script>
<style lang='scss' rel="stylesheet/scss">
</style>
